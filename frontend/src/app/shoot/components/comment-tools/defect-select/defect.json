[
    {
        "DefectClass": "规范性",
        "defectSubClasses": [
            {
                "DefectSubClass": "代码格式",
                "describes": [
                    "团队统一配置 IDE 的 TAB 为4个空格",
                    "每个文件末尾都应该有且仅有一行空行",
                    "一元操作符如“!”、“~”、“++”、“—”、 “*”、 “&”（地址运算符）等前后不加空格；\n“［］”、“.”、“->”这类操作符前后不加空格",
                    "函数名之后不要留空格",
                    "数组的初始化按照矩阵结构分行书写"
                ]
            },
            {
                "DefectSubClass": "函数",
                "describes": [
                    "禁止定义多于3个参数的函数",
                    "函数参数不能含有标识参数",
                    "函数粗略分组与排序，优先考虑可导出的函数"
                ]
            },
            {
                "DefectSubClass": "基本元素",
                "describes": [
                    "使用原始字符串字面值，避免转义",
                    "对于布尔类型的变量，应直接进行真假判断",
                    "在条件判断语句中，当整型变量与0比较时，不可模仿布尔变量的风格，应当将整型变量用“==”或“!=”直接与0比较",
                    "使用 a++ 代替 a+=1，使用 a— 代替 a-=1",
                    "循环嵌套次数不大于3",
                    "if 语句的嵌套层数不要大于3"
                ]
            }
        ]
    },
    {
        "DefectClass": "可维护性",
        "defectSubClasses": [
            {
                "DefectSubClass": "命名",
                "describes": [
                    "命名要名副其实——要像给自己的baby 起名字一样谨慎来对待程序命名",
                    "目录名一律使用小写和中划线风格的名称",
                    "标识符要采用英文单词或其组合，便于记忆和阅读，切忌使用汉语拼音来命名",
                    "标识符的长度应当符合“min-length && max-information”原则",
                    "如果函数返回值的类型或变量的类型为bool，则名字前面加上is, has, may, can, should,need等词修饰会增强语意",
                    "避免在名称中携带类型信息",
                    "避免在名称中携带作用域的信息",
                    "变量名的主体应当使用“名词”或者“形容词＋名词”",
                    "函数名应当使用“动词”或者“动词＋名词”（动宾词组）",
                    "系统中每个实体概念对应一个词",
                    "不使用双关语命名变量",
                    "团队使用统一的缩略语，并和业界常用的缩略语保持一致",
                    "用正确的反义词组命名具有互斥意义的变量或相反动作的函数等"
                ]
            },
            {
                "DefectSubClass": "函数",
                "describes": [
                    "函数命名要短小精悍和名副其实，避免误导。一般以它” 做什么” 来命名，而不是以它” 怎么做” 来命名",
                    "函数要短小，还要更短小。尽量控制在20行代码之内，包括空行和{}。最大不超过100行",
                    "函数中存在冗余代码",
                    "函数应该做一件事，做好这件事，只做这一件事",
                    "分隔指令与询问，不要设置多功能函数",
                    "避免不必要的 if或else",
                    "为简单功能编写函数",
                    "在API函数中对输入参数的正确性和有效性进行检查，在内部能保证的条件下其他函数不用再进行重复检查",
                    "防止将函数的参数作为工作变量"
                ]
            },
            {
                "DefectSubClass": "类",
                "describes": [
                    "类的职责不内聚",
                    "设计模式使用不当",
                    "数据结构定义存在冗余",
                    "依赖于抽象",
                    "抵制设计和实现上帝类"
                ]
            },
            {
                "DefectSubClass": "注释",
                "describes": [
                    "注释与所描述内容进行同样的缩进",
                    "避免垃圾注释",
                    "并非所有的函数都要配有函数头，短函数需要一个好名字而非太多描述",
                    "提倡代码自注释",
                    "行注释和块注释都可行时，优先使用行注释",
                    "保证代码和注释的一致性",
                    "注释应与其描述的代码相近，对代码的注释应放在其上方或右方（对单条语句的注释）相邻位置，不可放在下面，如放于上方则需与其上面的代码用空行隔开，而且注释内容与与被注释的代码相同缩进",
                    "不要保留注释掉的代码块"
                ]
            },
            {
                "DefectSubClass": "基本元素",
                "describes": [
                    "一个变量有且只有一个功能，并与其名称相一致，不能把一个变量用作多种用途",
                    "代码中不允许出现魔法数",
                    "变量应尽可能的满足短跨度和短存活时间",
                    "逻辑表达式已经具有 true 或 false 语义，无需画蛇添足"
                ]
            },
            {
                "DefectSubClass": "代码坏味道",
                "describes": [
                    "重复代码",
                    "过长函数",
                    "过大类/文件",
                    "过长参数列表",
                    "发散式变化",
                    "散弹式修改",
                    "依恋情节",
                    "数据泥团",
                    "基本类型偏执",
                    "switch使用不当",
                    "平行继承",
                    "冗余中间子类",
                    "冗余类属性",
                    "成员变量作用域不足",
                    "过长链式调用",
                    "过度委托",
                    "数据封装不足",
                    "重复函数",
                    "分散使用不完整的库",
                    "纯数据类",
                    "不合理继承",
                    "过多注释"
                ]
            }
        ]
    },
    {
        "DefectClass": "功能性",
        "defectSubClasses": [
            {
                "DefectSubClass": "业务实现正确",
                "describes": [
                    "正常流程不正确",
                    "可选流程不正确"
                ]
            },
            {
                "DefectSubClass": "业务实现完备",
                "describes": [
                    "异常流程考虑不全"
                ]
            }
        ]
    },
    {
        "DefectClass": "安全性",
        "defectSubClasses": [
            {
                "DefectSubClass": "并发",
                "describes": [
                    "不要破环原子赋值的原子性"
                ]
            },
            {
                "DefectSubClass": "资源管理",
                "describes": [
                    "防止文件句柄泄露",
                    "防止僵尸进程",
                    "防止CPU泄露",
                    "防止不安全临时文件风险"
                ]
            },
            {
                "DefectSubClass": "网络攻击",
                "describes": [
                    "防止DoS攻击",
                    "防止SQL注入攻击",
                    "防止XSS攻击",
                    "禁止 server 全 0 监听",
                    "谨慎使用系统调用，以防系统命令注入风险"
                ]
            },
            {
                "DefectSubClass": "权限控制",
                "describes": [
                    "目录权限应该是0750或更小",
                    "文件权限应该是0600或更小",
                    "禁用目录列表",
                    "上传文件仅能由经过身份验证的用户操作",
                    "上传文件的类型必须在白名单的文件类型集合中存在"
                ]
            },
            {
                "DefectSubClass": "认证和密码管理",
                "describes": [
                    "禁止在代码中硬编码认证信息",
                    "不应确认身份验证数据的哪一部分正确",
                    "禁止使用确定性伪随机生成器",
                    "日志中不要包含敏感数据",
                    "注释中不要包含凭证"
                ]
            },
            {
                "DefectSubClass": "会话管理",
                "describes": [
                    "删除HTTP响应头部中暴露的敏感信息"
                ]
            }
        ]
    },
    {
        "DefectClass": "性能",
        "defectSubClasses": [
            {
                "DefectSubClass": "运行效率",
                "describes": [
                    "不必要的等待",
                    "重复初始化",
                    "没有使用预先计算",
                    "没有使用延迟计算",
                    "没有使用分摊计算",
                    "没有使用批量计算",
                    "不合理使用浮点数",
                    "线程数量与核数配比不合理"
                ]
            },
            {
                "DefectSubClass": "内存占用",
                "describes": []
            }
        ]
    },
    {
        "DefectClass": "扩展性",
        "defectSubClasses": [
            {
                "DefectSubClass": "数据重复",
                "describes": [
                    "常量重复",
                    "变量重复"
                ]
            },
            {
                "DefectSubClass": "行为重复",
                "describes": [
                    "实现逻辑重复",
                    "功能语义重复",
                    "代码调用重复"
                ]
            }
        ]
    },
    {
        "DefectClass": "可靠性",
        "defectSubClasses": [
            {
                "DefectSubClass": "异常处理",
                "describes": [
                    "使用指针变量前要判断指针是否为空",
                    "通过下标访问切片元素前要判断下标是否越界",
                    "访问map元素时要判断元素是否存在",
                    "高层函数没有恢复异常",
                    "对于不应该出现的分支，使用异常处理",
                    "针对入参不应该有问题的函数，使用异常设计"
                ]
            },
            {
                "DefectSubClass": "错误处理",
                "describes": [
                    "防止局部变量覆盖同名的全局变量",
                    "错误信息丢失",
                    "防止将文件路径作为污点输入",
                    "错误值统一分组定义，而不是跟着感觉走"
                ]
            },
            {
                "DefectSubClass": "容错处理",
                "describes": [
                    "存在重试问题",
                    "存在限流问题",
                    "存在熔断问题",
                    "存在备份恢复问题"
                ]
            }
        ]
    }
]
